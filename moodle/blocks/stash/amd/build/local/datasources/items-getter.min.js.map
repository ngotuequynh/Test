{"version":3,"file":"items-getter.min.js","sources":["../../../src/local/datasources/items-getter.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\nlet Items = [];\n\nexport const getItems = async (courseid) => {\n    if (Items.length === 0) {\n        Items = await getItemsData(courseid);\n    } else {\n        window.console.log('cached version');\n    }\n    return Items;\n};\n\nexport const getIndexedItems = async (courseid) => {\n\n    let itemobject = [];\n    let itemdata = await getItems(courseid);\n    itemdata.items.forEach((item) => {\n        itemobject[item.id] = item;\n    });\n    return itemobject;\n\n};\n\n// TODO implement this?\n// export const addItem = () => {\n\n// };\n\nexport const resetCache = () => {\n    Items = [];\n};\n\nconst getItemsData = (courseid) => Ajax.call([{\n    methodname: 'block_stash_get_items',\n    args: {courseid: courseid}\n}])[0];\n"],"names":["Items","getItems","async","length","getItemsData","courseid","window","console","log","itemobject","items","forEach","item","id","Ajax","call","methodname","args"],"mappings":"oSAEIA,MAAQ,SAECC,SAAWC,MAAAA,WACC,IAAjBF,MAAMG,OACNH,YAAcI,aAAaC,UAE3BC,OAAOC,QAAQC,IAAI,kBAEhBR,2DAGoBE,MAAAA,eAEvBO,WAAa,gBACIR,SAASI,WACrBK,MAAMC,SAASC,OACpBH,WAAWG,KAAKC,IAAMD,QAEnBH,gCASe,KACtBT,MAAQ,UAGNI,aAAgBC,UAAaS,cAAKC,KAAK,CAAC,CAC1CC,WAAY,wBACZC,KAAM,CAACZ,SAAUA,aACjB"}